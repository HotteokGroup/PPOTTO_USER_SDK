{"openapi":"3.0.0","paths":{"/check":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}},"tags":["health"]}},"/user":{"post":{"operationId":"UserController_createUser","summary":"회원 생성","description":"이메일 기반 회원을 생성합니다.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequest"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserResponse"}}}},"400":{"description":"INVALID_DATA: 입력값이 올바르지 않습니다.</br>USER_ALREADY_EXISTS: 이미 가입된 고객입니다."},"404":{"description":""},"500":{"description":"INTERNAL_SERVER_ERROR: 서버에 오류가 발생했습니다."}},"tags":["회원정보"]}},"/user/{userId}":{"patch":{"operationId":"UserController_modifyUser","summary":"회원정보 수정","description":"\n    회원의 정보를 수정합니다.\n    - 닉네임, 비밀번호, 프로필 이미지를 수정할 수 있습니다.\n    ","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModifyUserRequest"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModifyUserCommandResult"}}}},"400":{"description":"INVALID_DATA: 입력값이 올바르지 않습니다.</br>USER_NICKNAME_ALREADY_EXISTS: 이미 사용중인 닉네임입니다."},"404":{"description":"USER_NOT_FOUND: 존재하지 않는 고객입니다."},"500":{"description":"INTERNAL_SERVER_ERROR: 서버에 오류가 발생했습니다."}},"tags":["회원정보"]},"get":{"operationId":"UserController_getUserInfo","summary":"회원정보 & 약관동의정보 조회","description":"회원의 정보를 조회합니다.","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserResponse"}}}},"400":{"description":"INVALID_DATA: 입력값이 올바르지 않습니다."},"404":{"description":"USER_NOT_FOUND: 존재하지 않는 고객입니다."},"500":{"description":"INTERNAL_SERVER_ERROR: 서버에 오류가 발생했습니다."}},"tags":["회원정보"]}},"/user/login-by-email":{"post":{"operationId":"UserController_loginByEmail","summary":"이메일 로그인","description":"이메일과 비밀번호로 로그인합니다.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUserByEmailRequest"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUserByEmailResponse"}}}},"400":{"description":"INVALID_DATA: 입력값이 올바르지 않습니다."},"404":{"description":"USER_NOT_FOUND: 존재하지 않는 고객입니다."},"500":{"description":"INTERNAL_SERVER_ERROR: 서버에 오류가 발생했습니다."}},"tags":["회원정보"]}},"/verification":{"post":{"operationId":"VerificationController_sendVerification","summary":"인증 요청","description":"인증을 요청합니다. 현재 이메일인증만 지원","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendVerificationRequest"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendVerificationResponse"}}}},"400":{"description":"INVALID_DATA: 입력값이 올바르지 않습니다."},"404":{"description":"USER_NOT_FOUND: 존재하지 않는 고객입니다."},"500":{"description":"INTERNAL_SERVER_ERROR: 인증정보 저장에 실패, 유효하지않은 인증유형"}},"tags":["인증"]}},"/verification/confirm":{"post":{"operationId":"VerificationController_confirmVerification","summary":"인증 확인","description":"인증을 확인합니다.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmVerificationRequest"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmVerificationResponse"}}}},"400":{"description":"INVALID_DATA: 입력값이 올바르지 않습니다.</br>VERIFICATION_EXCEED_MAXIMUM_COUNT: 인증시도 횟수를 초과했습니다.</br>VERIFICATION_EXPIRED: 인증시간이 만료되었습니다.</br>VERIFICATION_EXCEED_MAXIMUM_COUNT: 인증시도 횟수를 초과했습니다."},"404":{"description":"VERIFICATION_NOT_FOUND: 존재하지 않는 인증정보입니다."},"500":{"description":"INTERNAL_SERVER_ERROR: 서버에 오류가 발생했습니다."}},"tags":["인증"]}},"/terms-of-service/agree":{"post":{"operationId":"TermsOfServiceController_agreeTermsOfService","summary":"약관 동의","description":"약관을 동의합니다.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgreeTermsOfServiceRequest"}}}},"responses":{"201":{"description":""},"400":{"description":"INVALID_DATA: 입력값이 올바르지 않습니다."},"404":{"description":"TERMS_OF_SERVICE_NOT_FOUND: 존재하지 않는 약관입니다.</br>USER_NOT_FOUND: 존재하지 않는 고객입니다."},"500":{"description":"INTERNAL_SERVER_ERROR: 약관 동의 기록 저장에 실패했습니다."}},"tags":["약관"]}},"/terms-of-service":{"get":{"operationId":"TermsOfServiceController_getTermsOfServiceList","summary":"약관 리스트","description":"약관 리스트를 가져옵니다.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetTermsOfServiceResponse"}}}},"400":{"description":""},"404":{"description":""},"500":{"description":"INTERNAL_SERVER_ERROR: 서버에 오류가 발생했습니다."}},"tags":["약관"]}},"/file-store":{"get":{"operationId":"FileStoreController_getFileList","summary":"파일 조회","description":"파일을 조회합니다.","parameters":[{"name":"id","required":false,"in":"query","description":"파일 고유 아이디","schema":{"type":"array","items":{"type":"string"}}},{"name":"contentId","required":false,"in":"query","description":"연결된 콘텐츠 아이디","schema":{"type":"array","items":{"type":"string"}}},{"name":"userId","required":false,"in":"query","description":"고객 아이디","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetFileListResponse"}}}},"400":{"description":""},"404":{"description":""},"500":{"description":"INTERNAL_SERVER_ERROR: 서버에 오류가 발생했습니다."}},"tags":["회원 파일 관리"]},"post":{"operationId":"FileStoreController_createFile","summary":"파일 생성","description":"파일을 생성합니다.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFileRequest"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFileResponse"}}}},"400":{"description":""},"404":{"description":""},"500":{"description":"INTERNAL_SERVER_ERROR: 서버에 오류가 발생했습니다."}},"tags":["회원 파일 관리"]}},"/file-store/{fileId}":{"patch":{"operationId":"FileStoreController_modifyFile","summary":"파일 수정","description":"파일을 수정합니다.","parameters":[{"name":"fileId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModifyFileRequest"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModifyFileResponse"}}}},"400":{"description":""},"404":{"description":""},"500":{"description":"INTERNAL_SERVER_ERROR: 서버에 오류가 발생했습니다."}},"tags":["회원 파일 관리"]}}},"info":{"title":"PPOTTO User API","description":"뽀또 유저서비스","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"CreateUserRequest":{"type":"object","properties":{"email":{"type":"string","description":"이메일"},"nickName":{"type":"string","description":"닉네임"},"password":{"type":"string","description":"비밀번호"}},"required":["email","nickName","password"]},"CreateUserResponse":{"type":"object","properties":{"id":{"type":"number","description":"회원 아이디"}},"required":["id"]},"ModifyUserRequest":{"type":"object","properties":{"nickName":{"type":"string","description":"닉네임"},"password":{"type":"string","description":"비밀번호"},"profileImage":{"type":"string","description":"프로필 이미지"}}},"ModifyUserCommandResult":{"type":"object","properties":{"userId":{"type":"number"}},"required":["userId"]},"GetUserTermsOfServiceAgreementItem":{"type":"object","properties":{"id":{"type":"string","description":"약관동의 아이디","example":"lm54z0sv00003c7ow3een847"},"termsOfServiceId":{"type":"number","description":"약관 아이디","example":1},"deletedAt":{"format":"date-time","type":"string","description":"약관동의 해제일","example":null},"createdAt":{"format":"date-time","type":"string","description":"약관동의일","example":"2021-07-01T00:00:00.000Z"}},"required":["id","termsOfServiceId","deletedAt","createdAt"]},"GetUserResponse":{"type":"object","properties":{"id":{"type":"number","description":"유저 아이디","example":1},"email":{"type":"string","description":"유저 이메일","example":"test@mail.com"},"nickName":{"type":"string","description":"유저 닉네임","example":"이뽀또"},"profileImage":{"type":"string","description":"유저 프로필 사진","example":null},"deletedAt":{"format":"date-time","type":"string","description":"유저 삭제일","example":null},"updatedAt":{"format":"date-time","type":"string","description":"유저 마지막 업데이트일","example":"2021-07-01T00:00:00.000Z"},"createdAt":{"format":"date-time","type":"string","description":"유저 생성일","example":"2021-07-01T00:00:00.000Z"},"UserTermsOfServiceAgreement":{"description":"약관동의정보","type":"array","items":{"$ref":"#/components/schemas/GetUserTermsOfServiceAgreementItem"}}},"required":["id","email","nickName","profileImage","deletedAt","updatedAt","createdAt","UserTermsOfServiceAgreement"]},"LoginUserByEmailRequest":{"type":"object","properties":{"email":{"type":"string","description":"이메일","example":"test@mail.com"},"password":{"type":"string","description":"비밀번호","example":"1234"}},"required":["email","password"]},"LoginUserByEmailResponse":{"type":"object","properties":{"id":{"type":"number","description":"유저 아이디","example":1},"email":{"type":"string","description":"유저 이메일","example":"test@mail.com"},"nickName":{"type":"string","description":"유저 닉네임","example":"이뽀또"},"profileImage":{"type":"string","description":"유저 프로필 사진","example":null},"deletedAt":{"format":"date-time","type":"string","description":"유저 삭제일","example":null},"updatedAt":{"format":"date-time","type":"string","description":"유저 마지막 업데이트일","example":"2021-07-01T00:00:00.000Z"},"createdAt":{"format":"date-time","type":"string","description":"유저 생성일","example":"2021-07-01T00:00:00.000Z"}},"required":["id","email","nickName","profileImage","deletedAt","updatedAt","createdAt"]},"SendVerificationRequest":{"type":"object","properties":{"verificationType":{"type":"string","description":"인증 타입","example":"EMAIL","enum":["EMAIL"]},"emailAddress":{"type":"string","description":"이메일 주소 (인증타입이 이메일인경우 필수)","example":"test@naver.com"},"userId":{"type":"number","description":"요청 유저 아이디 (단순 기록용)","example":1}},"required":["verificationType"]},"SendVerificationResponse":{"type":"object","properties":{"id":{"type":"string","description":"인증 요청 결과 아이디","example":"123h12hj3j1"}},"required":["id"]},"ConfirmVerificationRequest":{"type":"object","properties":{"id":{"type":"string","description":"인증 요청 아이디","example":"123h12hj3j1"},"verificationCode":{"type":"string","description":"인증 코드","example":"123456"}},"required":["id","verificationCode"]},"ConfirmVerificationResponse":{"type":"object","properties":{"id":{"type":"string","description":"인증 요청 결과 아이디","example":"123h12hj3j1"},"result":{"type":"boolean","description":"인증 결과","example":true},"remaining":{"type":"number","description":"남은 인증가능 횟수","example":5},"verificationType":{"type":"string","description":"인증 타입","example":"EMAIL","enum":["EMAIL"]},"emailAddress":{"type":"string","description":"이메일 주소 (인증타입이 이메일인경우 필수)","example":"test@naver.com"},"userId":{"type":"number","description":"요청 유저 아이디 (단순 기록용)","example":1}},"required":["id","result","remaining","verificationType"]},"AgreeTermsOfServiceRequest":{"type":"object","properties":{"userId":{"type":"number","description":"회원 아이디"},"termsOfServiceIds":{"description":"동의할 약관 아이디","type":"array","items":{"type":"number"}}},"required":["userId","termsOfServiceIds"]},"GetTermsOfServiceItem":{"type":"object","properties":{"id":{"type":"number","description":"약관 아이디","example":1},"title":{"type":"string","description":"약관 제목","example":"서비스 이용 약관"},"content":{"type":"string","description":"약관 내용","example":"약관 내용"},"isEssential":{"type":"boolean","description":"필수 여부","example":true},"createdAt":{"format":"date-time","type":"string","description":"생성일","example":"2021-01-01T00:00:00.000Z"}},"required":["id","title","content","isEssential","createdAt"]},"GetTermsOfServiceResponse":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/components/schemas/GetTermsOfServiceItem"}}},"required":["list"]},"GetFileListItem":{"type":"object","properties":{"id":{"type":"string","description":"파일 고유 아이디"},"userId":{"type":"number","description":"고객 아이디","example":1},"contentType":{"type":"string","description":"파일 유형 (프로필 이미지, 피드 이미지)","enum":["FEED_IMAGE","PROFILE_IMAGE"]},"contentId":{"type":"string","description":"연결된 콘텐츠 아이디","example":"1"},"fileName":{"type":"string","description":"파일명","example":"test"},"originalFileUrl":{"type":"string","description":"원본 파일 주소","example":"output/originalCompressed.webp"},"smallThumbnailUrl":{"type":"string","description":"작은 섬네일 주소","example":"output/small.webp"},"mediumThumbnailUrl":{"type":"string","description":"중간 섬네일 주소","example":"output/medium.webp"},"largeThumbnailUrl":{"type":"string","description":"큰 섬네일 주소","example":"output/large.webp"},"disconnectedAt":{"format":"date-time","type":"string","description":"콘텐츠 관계 해제일","example":"2021-01-01T00:00:00.000Z"},"createdAt":{"format":"date-time","type":"string","description":"생성일","example":"2021-01-01T00:00:00.000Z"}},"required":["id","userId","contentType"]},"GetFileListResponse":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/components/schemas/GetFileListItem"}}},"required":["list"]},"CreateFileRequest":{"type":"object","properties":{"contentType":{"type":"string","description":"파일 유형 (프로필 이미지, 피드 이미지)","enum":["FEED_IMAGE","PROFILE_IMAGE"]},"userId":{"type":"number","description":"고객 아이디","example":1}},"required":["contentType","userId"]},"CreateFileResponse":{"type":"object","properties":{"id":{"type":"string","description":"파일 고유 아이디"}},"required":["id"]},"ModifyFileRequest":{"type":"object","properties":{"userId":{"type":"number","description":"고객 아이디"},"contentType":{"type":"string","description":"파일 유형 (프로필 이미지, 피드 이미지)","enum":["FEED_IMAGE","PROFILE_IMAGE"]},"contentId":{"type":"string","description":"연결된 콘텐츠 아이디"},"originalFileUrl":{"type":"string","description":"원본 주소"},"smallThumbnailUrl":{"type":"string","description":"작은 섬네일 주소"},"mediumThumbnailUrl":{"type":"string","description":"중간 섬네일 주소"},"largeThumbnailUrl":{"type":"string","description":"큰 섬네일 주소"},"disconnectedAt":{"type":"string","description":"콘텐츠 관계 해제일"}}},"ModifyFileResponse":{"type":"object","properties":{"id":{"type":"string","description":"파일 고유 아이디","example":"CUID"}},"required":["id"]}}}}